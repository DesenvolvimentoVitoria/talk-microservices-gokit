# talk-microservices-gokit

## How to build

    make

## Using the services

### Auth

```
curl -X "POST" "http://localhost:8081/v1/auth" \
     -H 'Accept: application/json' \
     -H 'Content-Type: application/json' \
     -d $'{
  "email": "eminetto@gmail.com",
  "password": "1234567"
}'

```

The result should be a token, like:

```
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImVtaW5ldHRvQGdtYWlsLmNvbSIsImV4cCI6MTYyODY0MTc1MiwiaWF0IjoxNjI4NjM4MTIyLCJuYmYiOjE2Mjg2MzgxMjJ9.m3xzCGsPBvi6ccCi0W9AHaO7aiY8wZAUABLI5Ntbnmw"
}
```

### Feedback

You need to use the token generated by the ```Auth``` service:

```
curl -X "POST" "http://localhost:8082/v1/feedback" \
     -H 'Accept: application/json' \
     -H 'Content-Type: application/json' \
	 -H 'Authorization:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImVtaW5ldHRvQGdtYWlsLmNvbSIsImV4cCI6MTYyODY0MTc1MiwiaWF0IjoxNjI4NjM4MTIyLCJuYmYiOjE2Mjg2MzgxMjJ9.m3xzCGsPBvi6ccCi0W9AHaO7aiY8wZAUABLI5Ntbnmw' \
     -d $'{
  "title": "Feedback test",
  "body": "Feedback body"
}'
```

### Vote

You need to use the token generated by the ```Auth``` service:

```
curl -X "POST" "http://localhost:8083/v1/vote" \
     -H 'Accept: application/json' \
     -H 'Content-Type: application/json' \
	 -H 'Authorization:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImVtaW5ldHRvQGdtYWlsLmNvbSIsImV4cCI6MTYyODY0MTc1MiwiaWF0IjoxNjI4NjM4MTIyLCJuYmYiOjE2Mjg2MzgxMjJ9.m3xzCGsPBvi6ccCi0W9AHaO7aiY8wZAUABLI5Ntbnmw' \
     -d $'{
  "talk_name": "Go e Microservi√ßos",
  "score": "10"
}'
```

